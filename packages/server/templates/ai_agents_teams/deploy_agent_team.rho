new devNull(`rho:io:devNull`),
{%- if !system_channels.is_empty() %}
    {{ system_channels | join(",\n") | indent(4) }},
{%- endif %}
    agentTeam
in
{
    contract @"{{ name }}"(
        @input,
{%- if output %}
        return
{%- endif %}
    ) = {
{%- if !output_channels.is_empty() %}
        new {{ output_channels | join(",\n") | indent(12) }}
        in {
            {{ steps | join(" |\n") | indent(12) }}
        }
{%- else -%}
        {{ steps | join(" |\n") | indent(8) }}
{%- endif %}
    }
}
